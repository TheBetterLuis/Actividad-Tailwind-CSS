<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.tailwindcss.com" rel="stylesheet">
</head>

<body class="flex items-center justify-center h-screen overflow-hidden" style="background: #edf2f7;">
  <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">

  <main class="grid w-full min-h-screen bg-gray-900 place-content-center">
    <div x-data="imageSlider" class="relative max-w-2xl p-2 mx-auto overflow-hidden bg-gray-100 rounded-md sm:p-4">
      <div class="absolute z-10 px-2 text-sm text-center text-white bg-gray-600 rounded-full right-5 top-5">
        <span x-text="currentIndex"></span>/<span x-text="images.length"></span>
      </div>

      <button @click="previous()"
        class="absolute z-10 flex items-center justify-center -translate-y-1/2 bg-gray-100 rounded-full shadow-md left-5 top-1/2 h-11 w-11">
        <i class="text-2xl font-bold text-gray-500 fas fa-chevron-left"></i>
      </button>

      <button @click="forward()"
        class="absolute z-10 flex items-center justify-center -translate-y-1/2 bg-gray-100 rounded-full shadow-md right-5 top-1/2 h-11 w-11">
        <i class="text-2xl font-bold text-gray-500 fas fa-chevron-right"></i>
      </button>

      <div class="relative h-80" style="width: 30rem">
        <template x-for="(image, index) in images">
          <div x-show="currentIndex == index + 1" x-transition:enter="transition transform duration-300"
            x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100"
            x-transition:leave="transition transform duration-300" x-transition:leave-start="opacity-100"
            x-transition:leave-end="opacity-0" class="absolute top-0">
            <img :src="image" alt="image" class="rounded-sm" />
          </div>
        </template>
      </div>
    </div>
  </main>

  <script>
    document.addEventListener("alpine:init", () => {
      Alpine.data("imageSlider", () => ({
        currentIndex: 1,
        images: [
          "url(../assets/images/backgrounds/background.jpg)",
          "https://unsplash.it/640/425?image=40",
          "https://unsplash.it/640/425?image=50",
        ],
        previous() {
          if (this.currentIndex > 1) {
            this.currentIndex = this.currentIndex - 1;
          }
        },
        forward() {
          if (this.currentIndex < this.images.length) {
            this.currentIndex = this.currentIndex + 1;
          }
        },
      }));
    });
  </script>
</body>

</html>